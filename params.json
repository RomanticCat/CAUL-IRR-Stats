{"name":"CAUL IRR Stats","tagline":"Tool to collect numbers for CAUL IRR statistics from DSpace repositories.","body":"# CAUL-IRR-Stats\r\nTool to collect numbers for CAUL IRR statistics from DSpace repositories.\r\n\r\nThis code was developed for the Library Consortium of New Zealand's IRRs.\r\n\r\nNote, this code is unofficial; the definition of the metrics in this code may differ from the CAUL definition.\r\n\r\n## Metrics\r\n\r\n> 1. Number of complete works (1) held in the institutional repository/ies, available externally (open access)\r\n> 2. Number of complete works (2) held in the institutional repository/ies for internal access only (authorized user access or dark archive)\r\n> 3. Total number of complete works (3) held in the IR (1 and 2)\r\n> 4. Number of items (4) held in the institutional repository/ies (metadata records only)\r\n> 5. Total number of metadata records added during the year\r\n> 6. Total number of complete works added during the year\r\n> 7. Total number of items held in the institutional repository/ies (3 and 4)\r\n> 8. Number of accesses to complete works in the institutional repository during the year\r\n> 9. Number of accesses to metadata record items in the institutional repository during the year\r\n> 10. Total number of accesses to items held in the institutional repository (8 and 9).\r\n\r\n\r\n\r\n## How this works / limitations\r\n\r\nThis code retrieves all \"number of\" statistics from the DSpace database. It queries the Solr-based statistics to get usage data for each item identified as relevant. DSpace policies for items, bundles and bitstreams are consulted to determine whether a file is a \"complete work\" or a \"metadata record\". The repositories for which this code was written don't hold any \"complete works for internal access only\", so the code does not attempt to detect those. See the comments in IRRStatsController for a starting point to adopt this for other repositories.\r\n\r\n## Instructions\r\n\r\nCompile the files using maven -- in the CAUL-IRR-Stats directory, run:\r\n    mvn package\r\n\r\nThis generates a jar file in the `target` subdirectory.\r\n\r\nMake the generated jar file available in the DSpace class-path, eg by placing it into `[dspace]/lib`. \r\n\r\nThen run IRRStatsCreator from the command line via the dsrun command: \r\n\r\n    [dspace]/bin/dspace dsrun nz.ac.lconz.irr.dspace.app.xmlui.aspect.irrstats.IRRStatsCreator fromDate toDate filename\r\n\r\nwhere `filename` is the name of the output file. This should probably be preceded by cleaning up bot data from the Solr statistics (`[dspace]/dspace stats-util -u && [dspace]/dspace stats-util -i`).\r\n\r\nThe output will be in CSV format as follows:\r\n\r\n    CountPublicFulltext,n\r\n    CountInternalFulltext,n\r\n    CountAnyFulltext,n\r\n    CountMetadataOnly,n\r\n    AddedMetadataOnly,n\r\n    AddedAnyFulltext,n\r\n    CountAll,n\r\n    AccessAnyFulltext,n\r\n    AccessMetadataOnly,n\r\n    AccessAll,n\r\n    \r\nthe order of the metrics corresponds to that in the list above, which in turn is quoted from the IRR stats PDF document distributed by CAUL.\r\n","google":"UA-62467742-1","note":"Don't delete this file! It's used internally to help with page regeneration."}